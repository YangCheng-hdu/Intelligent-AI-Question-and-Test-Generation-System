# æ™ºèƒ½è¯•å·ç”Ÿæˆç³»ç»Ÿ

ä¸€ä¸ªåŸºäºSpring Bootå’ŒZhipuå¤§æ¨¡å‹çš„æ™ºèƒ½è¯•å·ç”Ÿæˆç³»ç»Ÿï¼Œæ”¯æŒå¤šç§‘ç›®é¢˜ç›®ç”Ÿæˆã€é¢˜åº“ç®¡ç†ã€è¯•å·ç¼–è¾‘å’ŒPDFå¯¼å‡ºåŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ AIæ™ºèƒ½é¢˜ç›®ç”Ÿæˆ

- **å¤šç§‘ç›®æ”¯æŒ**ï¼šæ•°å­¦ã€è¯­æ–‡ã€è‹±è¯­ã€ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ã€å†å²ã€åœ°ç†ã€æ”¿æ²»
- **å¤šé¢˜å‹æ”¯æŒ**ï¼šé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ã€ç®€ç­”é¢˜ã€è®¡ç®—é¢˜ã€è®ºè¿°é¢˜ã€åˆ¤æ–­é¢˜
- **æ™ºèƒ½ç”Ÿæˆ**ï¼šåŸºäºæ™ºè°±AI GLM-4-Plusæ¨¡å‹ï¼Œç”Ÿæˆé«˜è´¨é‡é¢˜ç›®
- **é¢†åŸŸé™åˆ¶**ï¼šæ”¯æŒæŒ‡å®šç‰¹å®šçŸ¥è¯†ç‚¹èŒƒå›´ç”Ÿæˆé¢˜ç›®
- **æ•°å­¦å…¬å¼**ï¼šå®Œæ•´æ”¯æŒLaTeXæ•°å­¦å…¬å¼æ¸²æŸ“

### ğŸ“š é¢˜åº“ç®¡ç†ç³»ç»Ÿ

- **é¢˜ç›®ä¿å­˜**ï¼šå°†ç”Ÿæˆçš„ä¼˜è´¨é¢˜ç›®ä¿å­˜åˆ°é¢˜åº“
- **åˆ†ç±»ç­›é€‰**ï¼šæŒ‰ç§‘ç›®ã€é¢˜å‹å¿«é€Ÿç­›é€‰é¢˜ç›®
- **å…³é”®è¯æœç´¢**ï¼šæ”¯æŒé¢˜ç›®å†…å®¹å…³é”®è¯æœç´¢
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡åˆ é™¤å’Œå¯¼å‡º

### ğŸ“ è¯•å·ç¼–è¾‘åŠŸèƒ½

- **çµæ´»ç¼–è¾‘**ï¼šæ”¯æŒç›´æ¥ç¼–è¾‘é¢˜ç›®å†…å®¹ã€ç­”æ¡ˆã€è§£æ
- **AIä¿®æ”¹**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°è®©AIä¿®æ”¹é¢˜ç›®
- **é¢˜å‹åˆ†å€¼**ï¼šæ”¯æŒä¸ºä¸åŒé¢˜å‹è®¾ç½®ä¸åŒåˆ†å€¼
- **å®æ—¶é¢„è§ˆ**ï¼šæ‰€è§å³æ‰€å¾—çš„è¯•å·é¢„è§ˆ

### ğŸ“„ æ–‡æ¡£å¯¼å‡ºåŠŸèƒ½

- **PDFè¯•å·**ï¼šç”Ÿæˆæ ‡å‡†æ ¼å¼çš„PDFè¯•å·æ–‡æ¡£
- **ç­”æ¡ˆè§£æ**ï¼šç”ŸæˆåŒ…å«ç­”æ¡ˆå’Œè¯¦ç»†è§£æçš„æ–‡æ¡£
- **ä¸­æ–‡æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒä¸­æ–‡å­—ä½“å’Œæ•°å­¦å…¬å¼
- **æ ¼å¼ç¾è§‚**ï¼šä¸“ä¸šçš„æ’ç‰ˆå’Œæ ·å¼è®¾è®¡

## ğŸ›  æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

- **Spring Boot 3.5.3** - ä¸»åº”ç”¨æ¡†æ¶
- **Spring Data JPA** - æ•°æ®æŒä¹…åŒ–
- **PostgreSQL** - ç”Ÿäº§æ•°æ®åº“
- **H2 Database** - å¼€å‘æµ‹è¯•æ•°æ®åº“
- **Spring Security** - å®‰å…¨æ¡†æ¶
- **æ™ºè°±AI API** - AIé¢˜ç›®ç”ŸæˆæœåŠ¡

### å‰ç«¯æŠ€æœ¯æ ˆ

- **HTML5 + CSS3** - ç°ä»£Webæ ‡å‡†
- **Bootstrap 5** - å“åº”å¼UIæ¡†æ¶
- **JavaScript ES6+** - äº¤äº’é€»è¾‘
- **MathJax 3** - æ•°å­¦å…¬å¼æ¸²æŸ“
- **jsPDF + html2canvas** - PDFç”Ÿæˆ
- **Font Awesome** - å›¾æ ‡åº“

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Java 17+** - è¿è¡Œç¯å¢ƒ
- **Maven 3.6+** - æ„å»ºå·¥å…·
- **PostgreSQL 12+** - ç”Ÿäº§æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰

### ä¸€é”®å¯åŠ¨

```bash
# Windowsç”¨æˆ·
.\start.bat

# æˆ–ä½¿ç”¨PowerShell
.\start.ps1

# Linux/Macç”¨æˆ·
./mvnw spring-boot:run
```

### è®¿é—®ç³»ç»Ÿ

å¯åŠ¨æˆåŠŸåè®¿é—®ï¼š`http://localhost:8080`

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/main/java/com/example/exambackend/
â”œâ”€â”€ config/                    # é…ç½®ç±»
â”‚   â”œâ”€â”€ AIConfig.java         # AIæœåŠ¡é…ç½®
â”‚   â”œâ”€â”€ SecurityConfig.java   # å®‰å…¨é…ç½®
â”‚   â””â”€â”€ WebClientConfig.java  # HTTPå®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ controller/               # RESTæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ QuestionController.java      # é¢˜ç›®ç®¡ç†API
â”‚   â”œâ”€â”€ SubjectController.java       # ç§‘ç›®ç®¡ç†API
â”‚   â”œâ”€â”€ QuestionTypeController.java  # é¢˜å‹ç®¡ç†API
â”‚   â””â”€â”€ ExamPaperController.java     # è¯•å·ç”ŸæˆAPI
â”œâ”€â”€ dto/                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ QuestionGenerationRequest.java  # é¢˜ç›®ç”Ÿæˆè¯·æ±‚
â”‚   â”œâ”€â”€ QuestionModificationRequest.java # é¢˜ç›®ä¿®æ”¹è¯·æ±‚
â”‚   â”œâ”€â”€ QuestionEditRequest.java        # é¢˜ç›®ç¼–è¾‘è¯·æ±‚
â”‚   â”œâ”€â”€ QuestionTypeScore.java          # é¢˜å‹åˆ†å€¼é…ç½®
â”‚   â”œâ”€â”€ ExamPaperGenerationRequest.java # è¯•å·ç”Ÿæˆè¯·æ±‚
â”‚   â”œâ”€â”€ ExamPaperResponse.java          # è¯•å·å“åº”
â”‚   â””â”€â”€ ExamQuestion.java               # è¯•å·é¢˜ç›®
â”œâ”€â”€ entity/                  # JPAå®ä½“ç±»
â”‚   â”œâ”€â”€ Question.java        # é¢˜ç›®å®ä½“
â”‚   â”œâ”€â”€ Subject.java         # ç§‘ç›®å®ä½“
â”‚   â””â”€â”€ QuestionType.java    # é¢˜å‹å®ä½“
â”œâ”€â”€ repository/              # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ QuestionRepository.java     # é¢˜ç›®æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ SubjectRepository.java      # ç§‘ç›®æ•°æ®è®¿é—®
â”‚   â””â”€â”€ QuestionTypeRepository.java # é¢˜å‹æ•°æ®è®¿é—®
â”œâ”€â”€ service/                 # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ AIService.java       # AIæœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ QuestionService.java # é¢˜ç›®æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ DataInitService.java # æ•°æ®åˆå§‹åŒ–æœåŠ¡
â”‚   â””â”€â”€ impl/
â”‚       â”œâ”€â”€ AIServiceImpl.java        # AIæœåŠ¡å®ç°
â”‚       â””â”€â”€ QuestionServiceImpl.java  # é¢˜ç›®æœåŠ¡å®ç°
â””â”€â”€ ExamBackendApplication.java       # ä¸»å¯åŠ¨ç±»

src/main/resources/
â”œâ”€â”€ static/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js          # å‰ç«¯é€»è¾‘
â”œâ”€â”€ application.properties   # ä¸»é…ç½®æ–‡ä»¶
â””â”€â”€ application-postgres.properties # PostgreSQLé…ç½®
```

## ğŸ“‹ ä¸»è¦APIæ¥å£

### é¢˜ç›®ç®¡ç†

- `POST /api/questions/generate` - ç”Ÿæˆé¢˜ç›®
- `POST /api/questions/modify` - ä¿®æ”¹é¢˜ç›®
- `PUT /api/questions/{id}/edit` - ç¼–è¾‘é¢˜ç›®
- `GET /api/questions/bank` - è·å–é¢˜åº“é¢˜ç›®
- `POST /api/questions/save-to-bank` - ä¿å­˜åˆ°é¢˜åº“
- `DELETE /api/questions/bank/{id}` - ä»é¢˜åº“åˆ é™¤

### è¯•å·ç®¡ç†

- `GET /api/questions/exam` - è·å–è¯•å·é¢˜ç›®
- `POST /api/questions/add-to-exam` - åŠ å…¥è¯•å·
- `POST /api/exam-paper/generate` - ç”Ÿæˆè¯•å·PDF
- `GET /api/exam-paper/analyze-question-types` - åˆ†æé¢˜å‹åˆ†å¸ƒ

### åŸºç¡€æ•°æ®

- `GET /api/subjects` - è·å–ç§‘ç›®åˆ—è¡¨
- `GET /api/question-types` - è·å–é¢˜å‹åˆ—è¡¨

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®

```properties
# PostgreSQLç”Ÿäº§ç¯å¢ƒ
spring.profiles.active=postgres
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=postgres
spring.datasource.password=your_password

# H2å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
spring.profiles.active=h2
spring.datasource.url=jdbc:h2:mem:testdb
```

### AIæœåŠ¡é…ç½®

```properties
# æ™ºè°±AIé…ç½®
ai.zhipu.api.key=your_api_key_here
ai.zhipu.api.url=https://open.bigmodel.cn/api/paas/v4/chat/completions
ai.zhipu.model=glm-4-plus
```

## ğŸ” ä½¿ç”¨æŒ‡å—

1. **ç”Ÿæˆé¢˜ç›®**ï¼šé€‰æ‹©ç§‘ç›®ã€é¢˜å‹ã€æ•°é‡ï¼Œå¯æŒ‡å®šé¢†åŸŸé™åˆ¶
2. **ç®¡ç†é¢˜ç›®**ï¼šä¿å­˜ä¼˜è´¨é¢˜ç›®åˆ°é¢˜åº“ï¼Œæ”¯æŒç¼–è¾‘å’ŒAIä¿®æ”¹
3. **ç»„å»ºè¯•å·**ï¼šä»ç”Ÿæˆçš„é¢˜ç›®æˆ–é¢˜åº“ä¸­é€‰æ‹©é¢˜ç›®åŠ å…¥è¯•å·
4. **è®¾ç½®åˆ†å€¼**ï¼šä¸ºä¸åŒé¢˜å‹è®¾ç½®ä¸åŒçš„åˆ†å€¼æƒé‡
5. **å¯¼å‡ºæ–‡æ¡£**ï¼šç”ŸæˆPDFæ ¼å¼çš„è¯•å·å’Œç­”æ¡ˆè§£æ

## ğŸš€ éƒ¨ç½²æ–¹å¼

### æœ¬åœ°å¼€å‘

```bash
git clone <repository-url>
cd exam-backend
./start.bat  # Windows
./start.ps1  # PowerShell
```

### Dockeréƒ¨ç½²

```bash
docker-compose up -d
```

### ç”Ÿäº§éƒ¨ç½²

1. é…ç½®PostgreSQLæ•°æ®åº“
2. è®¾ç½®ç¯å¢ƒå˜é‡
3. æ„å»ºJARåŒ…ï¼š`mvn clean package`
4. è¿è¡Œï¼š`java -jar target/exam-backend-0.0.1-SNAPSHOT.jar`

---

**æ™ºèƒ½è¯•å·ç”Ÿæˆç³»ç»Ÿ** - è®©æ•™è‚²æ›´æ™ºèƒ½ï¼Œè®©å‡ºé¢˜æ›´ç®€å•ï¼
